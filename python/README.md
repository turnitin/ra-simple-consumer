# README: Simple LTI Consumer: Python

This project implements a simple LTI consumer that will perform a basic LTI
Launch and return the redirect URL generated by Revision Assistant.

## Quick Start (with Docker, easy!)

Pull existing Docker image:

```
$ docker pull quay.io/turnitin/ra-simple-consumer
```

...or build it locally:

```
$ docker build -t ra-consumer .
```

Once you've got the container you can run:

```
# get list of args
$ docker run --rm ra-consumer --help

# get a launch URL
$ docker run --rm ra-consumer \
    --env production --key HoneyBees --secret CanSting \
    --first Charlie --last Brown --email charlie.brown@peanuts.com --user_id ABCDE \
    --context_id ABCDE --resource_link_id ABCDE

https://lti.revisionassistant.com/frap/#/lti/jrntuw9k0kdr24ur6ce8svrfedlwj9ie5xs19y6xrkt80fcy/41ho1H0
```

## Quick Start (no Docker, harder)

1. Install Python 2.7.x
2. [Install pip](https://pip.pypa.io/en/stable/installing/) (you may already
   have it -- run `pip --help` and see if you get a response)
3. Install virtualenv (`pip install virtualenv`)
4. Create a virtualenv (`virtualenv venv`)
5. Activate the virtualenv (on Unix, `source venv/bin/activate`)
6. Install requirements (`pip install -r requirements.txt`)
7. Run the consumer with help arg (`python consumer.py --help`)

Example: note that this key and secret *are not valid* -- you'll need to get
them from the Revision Assistant engineering team:

```
$ python consumer.py \
    --env staging --key HoneyBees --secret CanSting \
    --first Charlie --last Brown --email charlie.brown@peanuts.com --user_id ABCDE \
    --context_id ABCDE --resource_link_id ABCDE 
https://staging-lti.revisionassistant.com/frap/#/lti/jrntuw9k0kdr24ur6ce8svrfedlwj9ie5xs19y6xrkt80fcy/41ho1H0
```

You can then paste that URL into a browser and get into the application.
